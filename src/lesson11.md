# 课时十一：图的基本概念

> **考点分布**
> 
> | 考点 | 重要程度 | 分值 | 常见题型 |
> |------|---------|------|---------|
> | 1. 图 | ★★★★★ | 2 ~ 6 | 选择、填空 |
> | 2. 通路与回路 | ★★ | 0 ~ 2 | 选择 |
> | 3. 图的连通性 | ★★★★ | 0 ~ 4 | 选择、填空 |
> | 4. 图的矩阵表示 | 🔥必考 | 10 ~ 16 | 选择、填空、解答 |

---

## 1. 图

### 📖 基本概念

#### 1.1 无向图

一个**无向图** \\(G\\) 是一个有序的二元组 \\(\langle V, E \\rangle\\)，其中：

- \\(V\\) 是一个非空有穷集，称作**顶点集**，其元素称作**顶点**或**结点**
- \\(E\\) 是无序积 \\(V \& V\\) 的有穷多重子集，称作**边集**，其元素称作**无向边**，简称为**边**

#### 1.2 有向图

一个**有向图** \\(D\\) 是一个有序的二元组 \\(\langle V, E \\rangle\\)，其中：

- \\(V\\) 是一个非空有穷集，称作**顶点集**，其元素称作**顶点**或**结点**
- \\(E\\) 是笛卡尔积 \\(V \times V\\) 的有穷多重子集，称作**边集**，其元素称作**有向边**，简称为**边**

#### 1.3 基本术语

**图的阶**：顶点数称作图的阶，\\(n\\) 个顶点的图称作 \\(n\\) 阶图。

**零图**：一条边也没有的图称作零图，\\(n\\) 阶零图记作 \\(N_n\\)，1阶零图 \\(N_1\\) 称作**平凡图**（平凡图只有一个顶点，没有边）。

**关联**：设 \\(G = \langle V,E \\rangle\\) 为无向图，\\(e_k = (v_i,v_j) \in E\\)，称 \\(v_i, v_j\\) 为 \\(e_k\\) 的**端点**，\\(e_k\\) 与 \\(v_i(v_j)\\) **关联**。

- 若 \\(v_i \neq v_j\\)，则称 \\(e_k\\) 与 \\(v_i(v_j)\\) 的关联次数为1
- 若 \\(v_i = v_j\\)，则称 \\(e_k\\) 与 \\(v_i\\) 的关联次数为2，并称 \\(e_k\\) 为**环**

**相邻**：
- 若两个顶点之间有一条边连接，则称这两个顶点**相邻**
- 若两条边至少有一个公共端点，则称这两条边**相邻**

**有向图的关联**：设 \\(G = \langle V, E \\rangle\\) 为有向图，\\(e_k = \langle v_i, v_j \\rangle \in E\\)，称 \\(v_i, v_j\\) 为 \\(e_k\\) 的端点，\\(v_i\\) 为 \\(e_k\\) 的**始点**，\\(v_j\\) 为 \\(e_k\\) 的**终点**。

**孤立点**：图（无向的或有向的）中没有边关联的顶点称作**孤立点**。

### 💡 度

#### 无向图的度

设 \\(G = \langle V, E \\rangle\\) 为无向图，\\(\forall v \in V\\)，称 \\(v\\) 作为边的端点的次数为 \\(v\\) 的**度数**，简称为**度**，记作 \\(d(v)\\)。

**注意**：在无向图中，顶点 \\(v\\) 上的环以 \\(v\\) 作2次端点。

#### 有向图的度

设 \\(G = \langle V, E \\rangle\\) 为有向图，\\(\forall v \in V\\)：

- 称 \\(v\\) 作为边的始点的次数为 \\(v\\) 的**出度**，记作 \\(d^+(v)\\)
- 称 \\(v\\) 作为边的终点的次数为 \\(v\\) 的**入度**，记作 \\(d^-(v)\\)
- 称 \\(d^+(v) + d^-(v)\\) 为 \\(v\\) 的**度数**，记作 \\(d(v)\\)

**注意**：在有向图中，顶点 \\(v\\) 上的环以 \\(v\\) 作一次始点和一次终点，共作2次端点。

### 📊 握手定理

**无向图**：在任何无向图中，所有顶点的度数之和等于边数的2倍：

\\[
\sum_{v \in V} d(v) = 2|E|
\\]

**有向图**：在任何有向图中：
- 所有顶点的度数之和等于边数的2倍
- 所有顶点的入度之和等于所有顶点的出度之和，都等于边数

\\[
\sum_{v \in V} d(v) = 2|E|, \quad \sum_{v \in V} d^+(v) = \sum_{v \in V} d^-(v) = |E|
\\]

**推论**：任何图中，奇度顶点的个数是偶数。

### 📝 例题

**例题1**：已知 \\(n\\) 阶无向图 \\(G\\) 中有 \\(m\\) 条边，各顶点的度数均为3，又已知 \\(2n - 3 = m\\)，则 \\(m =\\underline{\\quad}\\)。

<details>
<summary><strong>点击查看答案</strong></summary>

**解答**：

**使用握手定理**：

所有顶点的度数之和 = \\(n \times 3 = 3n\\)

根据握手定理：
\\[
3n = 2m
\\]

又已知：
\\[
2n - 3 = m
\\]

联立解得：
\\[
\begin{align}
3n &= 2(2n - 3) \\\\
3n &= 4n - 6 \\\\
n &= 6 \\\\
m &= 2 \times 6 - 3 = 9
\end{align}
\\]

**答案**：9

</details>

---

**例题2**：一个3阶有向图的度序列是2,2,4，入度序列是2,0,2，出度序列是？

<details>
<summary><strong>点击查看答案</strong></summary>

**解答**：

**度序列**：(2, 2, 4)

**入度序列**：(2, 0, 2)

**出度序列**：\\((d_1 - d_1^-, d_2 - d_2^-, d_3 - d_3^-) = (2-2, 2-0, 4-2) = (0, 2, 2)\\)

**答案**：(0, 2, 2)

</details>

---

**例题3**：一个无向图有五个结点，其中4个的度数是1,2,3,4，则第5个结点的度数不可能是（ ）。

A. 0

B. 2

C. 4

D. 5

<details>
<summary><strong>点击查看答案</strong></summary>

**解答**：

**使用握手定理**：

所有顶点的度数之和必须是偶数。

已知4个顶点的度数之和：\\(1 + 2 + 3 + 4 = 10\\)（偶数）

设第5个顶点的度数为 \\(d\\)，则：
\\[
10 + d = 2m \text{（偶数）}
\\]

所以 \\(d\\) 必须是偶数。

**检查选项**：
- A. 0（偶数）✅ 可能
- B. 2（偶数）✅ 可能
- C. 4（偶数）✅ 可能
- D. 5（奇数）❌ 不可能

**答案**：D

</details>

---

**例题4**：下列四组数据中，能作为某个4阶无向简单图的度序列的为（ ）。

A. 1,2,3,4

B. 2,2,2,3

C. 1,1,2,3

D. 1,1,1,3

<details>
<summary><strong>点击查看答案</strong></summary>

**解答**：

**无向简单图的条件**：
1. 度数之和必须是偶数（握手定理）
2. 每个顶点的度数 \\(d(v) \leq n-1 = 3\\)（简单图的最大度）

**检查每个选项**：

**选项A**：(1,2,3,4)
- 度数之和 = 10（偶数）✅
- 但最大度 = 4 > 3 ❌（不可能是简单图）

**选项B**：(2,2,2,3)
- 度数之和 = 9（奇数）❌

**选项C**：(1,1,2,3)
- 度数之和 = 7（奇数）❌

**选项D**：(1,1,1,3)
- 度数之和 = 6（偶数）✅
- 最大度 = 3 \\(\leq 3\\) ✅
- **可以作为简单图的度序列** ✅

**答案**：D

</details>

---

**例题5**：6阶无向完全图 \\(K_6\\) 的边的条数？

<details>
<summary><strong>点击查看答案</strong></summary>

**解答**：

**\\(n\\) 阶无向完全图 \\(K_n\\) 的边的条数**：

\\[
\\frac{n(n-1)}{2}
\\]

对于 \\(K_6\\)：
\\[
\\frac{6 \times (6-1)}{2} = \\frac{6 \times 5}{2} = 15
\\]

**答案**：15

</details>

---

## 2. 通路与回路

### 📖 基本概念

设 \\(G\\) 为无向图，\\(G\\) 中顶点与边的交替序列：

\\[
\\Gamma = v_{i_0}e_{j_1}v_{i_1}e_{j_2}\\ldots e_{j_l}v_{i_l}
\\]

称作 \\(v_{i_0}\\) 到 \\(v_{i_l}\\) 的**通路**，其中 \\(v_{i_{r-1}}, v_{i_r}\\) 为 \\(e_{j_r}\\) 的端点，\\(r = 1,2,\\ldots,l\\)，\\(v_{i_0}, v_{i_l}\\) 分别称为 \\(\\Gamma\\) 的**始点**与**终点**，\\(\\Gamma\\) 中边的条数称作它的**长度**。

**回路**：若又有 \\(v_{i_0} = v_{i_l}\\)，则称 \\(\\Gamma\\) 为**回路**。

---

## 3. 图的连通性

### 📖 无向图的连通性

设无向图 \\(G = \langle V, E \\rangle\\)，若 \\(u, v \in V\\) 之间存在通路，则称 \\(u, v\\) 是**连通的**，记作 \\(u \\sim v\\)。

**规定**：\\(\forall v \in V, v \\sim v\\)（每个顶点与自身连通）

**连通图**：若无向图 \\(G\\) 是平凡图或 \\(G\\) 中任何两个顶点都是连通的，则称 \\(G\\) 为**连通图**，否则称 \\(G\\) 为**非连通图**。

### 📖 有向图的连通性

设 \\(G = \langle V, E \\rangle\\) 是有向图：

**可达**：对 \\(G\\) 中任意两个结点 \\(u\\) 到 \\(v\\)，若从 \\(u\\) 到 \\(v\\) 存在通路，则称 \\(u\\) 到 \\(v\\) 是**可达的**，否则称 \\(u\\) 到 \\(v\\) **不可达**。

**相互可达**：若从 \\(u\\) 到 \\(v\\) 存在通路，且从 \\(v\\) 到 \\(u\\) 存在通路，则称 \\(u\\) 和 \\(v\\) 是**相互可达的**。

**规定**：一个结点到自己总是可达的。

**单向连通**：如果图 \\(G\\) 任意两个结点至少从一个结点到另一个结点是可达的，则称 \\(G\\) 是**单向连通的**。

**强连通**：如果图 \\(G\\) 任意两个结点间是相互可达的，则称 \\(G\\) 是**强连通的**。

**弱连通**：如果图 \\(G\\) 在略去有向边的方向后得到的无向图是连通的，则称 \\(G\\) 是**弱连通的**。

**关系**：
\\[
\text{强连通} \\Rightarrow \text{单向连通} \\Rightarrow \text{弱连通}
\\]

### 📝 例题

**例题1**：已知有向图 \\(D = \langle V,E \\rangle\\)，其中，\\(E = \\{\langle v_2,v_1 \\rangle, \\langle v_4,v_1 \\rangle, \\langle v_4,v_3 \\rangle, \\langle v_2,v_3 \\rangle, \\langle v_2,v_4 \\rangle\\}\\)，\\(V = \\{v_1, v_2, v_3, v_4\\}\\)，则 \\(D\\) 为（ ）。

A. 弱连通图

B. 强连通图

C. 单向连通图

D. 都不是

<details>
<summary><strong>点击查看答案</strong></summary>

**解答**：

**检查连通性**：

**强连通**：需要任意两个结点相互可达
- \\(v_1\\) 到其他结点：没有从 \\(v_1\\) 出发的边，所以 \\(v_1\\) 到其他结点不可达 ❌
- 不是强连通 ❌

**单向连通**：需要任意两个结点至少一个方向可达
- \\(v_1\\) 到其他结点：不可达 ❌
- 不是单向连通 ❌

**弱连通**：略去方向后，无向图连通
- 略去方向后：\\((v_2,v_1), (v_4,v_1), (v_4,v_3), (v_2,v_3), (v_2,v_4)\\)
- 所有顶点都在一个连通分量中 ✅
- 是弱连通 ✅

**答案**：A

</details>

---

## 4. 图的矩阵表示 🔥必考重点

### 📖 关联矩阵

#### 无向图的关联矩阵

设无向图 \\(G = \langle V, E \\rangle\\)，\\(V = \\{v_1, v_2, \\ldots, v_n\\}\\)，\\(E = \\{e_1, e_2, \\ldots, e_m\\}\\)，令 \\(m_{ij}\\) 为顶点 \\(v_i\\) 与边 \\(e_j\\) 的关联次数，则称 \\((m_{ij})_{n \\times m}\\) 为 \\(G\\) 的**关联矩阵**，记作 \\(M(G)\\)。

#### 有向图的关联矩阵

设有向图 \\(G = \langle V,E \\rangle\\) 中无环，\\(V = \\{v_1,v_2,\\ldots ,v_n\\}\\)，\\(E = \\{e_1,e_2,\\ldots ,e_m\\}\\)：

\\[
m_{ij} = \\begin{cases}
1, & v_i \text{ 为 } e_j \text{ 的始点} \\\\
0, & v_i \text{ 为 } e_j \text{ 不关联} \\\\
-1, & v_i \text{ 为 } e_j \text{ 的终点}
\\end{cases}
\\]

则称 \\((m_{ij})_{n\\times m}\\) 为 \\(D\\) 的**关联矩阵**，记作 \\(M(D)\\)。

### 📖 邻接矩阵

设有向图 \\(D = \langle V, E \\rangle\\), \\(V = \\{v_1, v_2, \\ldots, v_n\\}\\)，令 \\(a_{ij}^{(1)}\\) 为顶点 \\(v_i\\) 邻接到顶点 \\(v_j\\) 的边的条数，则称 \\((a_{ij}^{(1)})_{n \\times n}\\) 为 \\(D\\) 的**邻接矩阵**，记作 \\(A(D)\\)，或简记为 \\(A\\)。

**重要性质**：设 \\(A\\) 为有向图 \\(D\\) 的邻接矩阵，\\(D\\) 的顶点集 \\(V = \\{v_1, v_2, \\ldots, v_n\\}\\)，则 \\(A\\) 的 \\(l\\) 次幂 \\(A^l (l \\geq 1)\\) 中元素 \\(a_{ij}^{(l)}\\) 为 \\(D\\) 中 \\(v_i\\) 到 \\(v_j\\) 长度为 \\(l\\) 的通路数，其中 \\(a_{ii}^{(l)}\\) 为 \\(v_i\\) 到自身长度为 \\(l\\) 的回路数。

\\[
\\sum_{i=1}^{n} \\sum_{j=1}^{n} a_{ij}^{(l)} = \text{长度为 } l \text{ 的通路（含回路）总数}
\\]

\\[
\\sum_{i=1}^{n} a_{ii}^{(l)} = \text{长度为 } l \text{ 的回路总数}
\\]

### 📖 可达矩阵

设 \\(D = \langle V, E \\rangle\\) 为有向图，\\(V = \\{v_1, v_2, \\dots, v_n\\}\\)，令：

\\[
p_{ij} = \\begin{cases}
1, & v_i \text{ 可达 } v_j \\\\
0, & \text{否则}
\\end{cases}
\\]

称 \\((p_{ij})_{n\\times n}\\) 为 \\(D\\) 的**可达矩阵**，记作 \\(P(D)\\)，简记为 \\(P\\)。

**注意**：由于 \\(\forall v_i \in V, v_i \\to v_i\\)，所以 \\(P\\) 主对角线上的元素全为1。

### 📝 例题

**例题1**：设有向图 \\(G = \langle V, E \\rangle\\)，\\(V = \\{v_1, v_2, v_3, v_4\\}\\)，若 \\(G\\) 的邻接矩阵 \\(A = \\begin{bmatrix} 0 & 1 & 0 & 1 \\\\ 1 & 0 & 1 & 1 \\\\ 1 & 1 & 0 & 0 \\\\ 1 & 0 & 0 & 1 \\end{bmatrix}\\)，则图 \\(G\\) 中共有\\underline{\\quad}条边，\\(v_1\\) 的出度 \\(\\deg^+(v_1) =\\underline{\\quad}\\)，\\(v_1\\) 的入度 \\(\\deg^-(v_1) =\\underline{\\quad}\\)。

<details>
<summary><strong>点击查看答案</strong></summary>

**解答**：

**边数**：
\\[
\\text{边数} = \\sum_{i=1}^{4} \\sum_{j=1}^{4} a_{ij} = 0+1+0+1+1+0+1+1+1+1+0+0+1+0+0+1 = 9
\\]

**\\(v_1\\) 的出度**：
\\[
\\deg^+(v_1) = \\sum_{j=1}^{4} a_{1j} = 0+1+0+1 = 2
\\]

**\\(v_1\\) 的入度**：
\\[
\\deg^-(v_1) = \\sum_{i=1}^{4} a_{i1} = 0+1+1+1 = 3
\\]

**答案**：9条边，出度为2，入度为3

</details>

---

**例题2**：已知无向图 \\(G\\) 的邻接矩阵为 \\(\\begin{bmatrix} 0 & 1 & 1 & 1 & 1\\\\ 1 & 0 & 1 & 0 & 0\\\\ 1 & 1 & 0 & 1 & 1\\\\ 1 & 0 & 1 & 0 & 1\\\\ 1 & 0 & 1 & 1 & 0 \\end{bmatrix}\\)，则 \\(G\\) 有（ ）。

A. 5点，8边

B. 6点，7边

C. 5点，7边

D. 6点，8边

<details>
<summary><strong>点击查看答案</strong></summary>

**解答**：

**顶点数**：矩阵是 \\(5 \\times 5\\)，所以有5个顶点 ✅

**边数**：对于无向图，邻接矩阵是对称的，只需要计算上三角（或下三角）部分，然后乘以2，但要注意主对角线（自环）只算一次。

实际上，对于无向简单图，边数 = 所有非零元素之和 / 2

\\[
\\text{边数} = \\frac{1+1+1+1+1+1+1+1+1+1+1+1+1+1}{2} = \\frac{14}{2} = 7
\\]

**答案**：C（5点，7边）

</details>

---

## 5. 练习题

### 练习1

任何图中必定有偶数个（ ）。

A. 度数为偶数的结点

B. 入度为偶数的结点

C. 度数为奇数的结点

D. 出度为奇数的结点

<details>
<summary><strong>点击查看答案</strong></summary>

**解答**：

**握手定理的推论**：任何图中，奇度顶点的个数是偶数。

**答案**：C

</details>

---

### 练习2

设无向图 \\(G\\) 的度数列是 \\((1, 2, 3, 4, 2)\\)，则图的边数是？

<details>
<summary><strong>点击查看答案</strong></summary>

**解答**：

**使用握手定理**：

所有顶点的度数之和 = \\(1 + 2 + 3 + 4 + 2 = 12\\)

\\[
\\text{边数} = \\frac{12}{2} = 6
\\]

**答案**：6

</details>

---

### 练习3

有向图 \\(D\\) 的度数列为 \\((3,4,4,3)\\)，出度列为 \\((2,3,1,1)\\)，则此图的入度列为？

<details>
<summary><strong>点击查看答案</strong></summary>

**解答**：

**度数 = 入度 + 出度**

入度列 = 度数列 - 出度列 = \\((3-2, 4-3, 4-1, 3-1) = (1, 1, 3, 2)\\)

**答案**：(1, 1, 3, 2)

</details>

---

### 练习4

一个无向图有四个结点，其中3个的度数是 \\(2, 3, 3\\)，则第4个结点的度数不可能是（ ）。

A. 0

B. 1

C. 2

D. 4

<details>
<summary><strong>点击查看答案</strong></summary>

**解答**：

**使用握手定理**：

所有顶点的度数之和必须是偶数。

已知3个顶点的度数之和：\\(2 + 3 + 3 = 8\\)（偶数）

设第4个顶点的度数为 \\(d\\)，则：
\\[
8 + d = 2m \text{（偶数）}
\\]

所以 \\(d\\) 必须是偶数。

**检查选项**：
- A. 0（偶数）✅ 可能
- B. 1（奇数）❌ 不可能
- C. 2（偶数）✅ 可能
- D. 4（偶数）✅ 可能

**答案**：B

</details>

---

### 练习5

对于下列序列，可构成简单无向图的度数序列为（ ）。

A. 3, 3, 4, 4, 5

B. 0, 1, 3, 3, 4

C. 1, 1, 2, 2, 3

D. 1, 1, 2, 2, 2

<details>
<summary><strong>点击查看答案</strong></summary>

**解答**：

**无向简单图的条件**：
1. 度数之和必须是偶数
2. 每个顶点的度数 \\(d(v) \leq n-1\\)

**检查每个选项**：

**选项A**：(3, 3, 4, 4, 5)
- 度数之和 = 19（奇数）❌

**选项B**：(0, 1, 3, 3, 4)
- 度数之和 = 11（奇数）❌

**选项C**：(1, 1, 2, 2, 3)
- 度数之和 = 9（奇数）❌

**选项D**：(1, 1, 2, 2, 2)
- 度数之和 = 8（偶数）✅
- 最大度 = 2 \\(\leq 4\\) ✅
- **可以作为简单图的度序列** ✅

**答案**：D

</details>

---

### 练习6

下列关于图连通性的描述中不正确的是\\underline{\\quad}。

A. 强连通图必然是单向连通的

B. 单向连通图也必然是强连通的

C. 弱连通图未必是单向连通的

D. 单向连通图必然是弱连通的

<details>
<summary><strong>点击查看答案</strong></summary>

**解答**：

**连通性关系**：强连通 ⇒ 单向连通 ⇒ 弱连通

**选项A**：强连通图必然是单向连通的 ✅ 正确

**选项B**：单向连通图也必然是强连通的 ❌ 错误（单向连通不一定是强连通）

**选项C**：弱连通图未必是单向连通的 ✅ 正确

**选项D**：单向连通图必然是弱连通的 ✅ 正确

**答案**：B

</details>

---

### 练习7

设 \\(D = \langle V, E \\rangle\\) 为有向图，\\(V = \\{a, b, c, d, e, f\\}\\), \\(E = \\{\langle a, b \\rangle, \\langle b, c \\rangle, \\langle a, d \\rangle, \\langle d, e \\rangle, \\langle f, e \\rangle\\}\\) 是（ ）。

A. 强连通图

B. 单向连通图

C. 弱连通图

D. 不连通图

<details>
<summary><strong>点击查看答案</strong></summary>

**解答**：

**检查连通性**：

**强连通**：需要任意两个结点相互可达
- \\(a\\) 到 \\(f\\)：不可达 ❌
- 不是强连通 ❌

**单向连通**：需要任意两个结点至少一个方向可达
- \\(a\\) 到 \\(f\\)：不可达
- \\(f\\) 到 \\(a\\)：不可达 ❌
- 不是单向连通 ❌

**弱连通**：略去方向后，无向图连通
- 略去方向后：\\((a,b), (b,c), (a,d), (d,e), (f,e)\\)
- 所有顶点都在一个连通分量中 ✅
- 是弱连通 ✅

**答案**：C

</details>

---

## 📌 总结

### 关键要点

1. **图的定义**：
   - 无向图：\\(E \subseteq V \\& V\\)（无序积）
   - 有向图：\\(E \subseteq V \\times V\\)（笛卡尔积）

2. **度**：
   - 无向图：\\(d(v) = \\) 关联边的次数（环算2次）
   - 有向图：\\(d(v) = d^+(v) + d^-(v)\\)

3. **握手定理**：
   - 无向图：\\(\\sum d(v) = 2|E|\\)
   - 有向图：\\(\\sum d^+(v) = \\sum d^-(v) = |E|\\)
   - 推论：奇度顶点个数是偶数

4. **连通性**：
   - 强连通 ⇒ 单向连通 ⇒ 弱连通

5. **矩阵表示**：
   - **关联矩阵**：顶点与边的关联
   - **邻接矩阵**：\\(A^l\\) 中元素表示长度为 \\(l\\) 的通路数
   - **可达矩阵**：表示可达性

### 记忆技巧

- **握手定理**：度数之和 = 2倍边数
- **奇度顶点**：个数一定是偶数
- **完全图边数**：\\(\\frac{n(n-1)}{2}\\)
- **连通性**：强 → 单 → 弱（越来越弱）
